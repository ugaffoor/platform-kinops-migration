{
  "anonymous": false,
  "attributes": [
    {
      "name": "Cancel Disabled",
      "values": [
        "true"
      ]
    },
    {
      "name": "Cloning Disabled",
      "values": [
        "true"
      ]
    },
    {
      "name": "Comment Disabled",
      "values": [
        "true"
      ]
    },
    {
      "name": "Submission Workflow",
      "values": [
        "Submitted - True"
      ]
    }
  ],
  "bridgedResources": [
    {
      "model": "Leads",
      "name": "Get Lead",
      "order": [

      ],
      "parameters": [
        {
          "mapping": "${values('Leads')}",
          "name": "ID"
        }
      ],
      "qualification": "Get Lead",
      "status": "Active"
    },
    {
      "model": "Terms and Conditions",
      "name": "Get Waiver",
      "order": [

      ],
      "parameters": [
        {
          "mapping": "Gracie Barra Waiver",
          "name": "Type"
        }
      ],
      "qualification": "Paysmart Member Registration",
      "status": "Active"
    },
    {
      "model": "Leads",
      "name": "Leads",
      "order": [
        {
          "attribute": "Last Name",
          "direction": "asc"
        }
      ],
      "parameters": [

      ],
      "qualification": "Active Leads",
      "status": "Active"
    }
  ],
  "categorizations": [

  ],
  "customHeadContent": "<script>\n  function GetURLParameter(sParam){\n    arr=window.location.hash.split(sParam+\"=\");\n    if (arr.length>0){\n      return arr[1];\n    }\n    return null;\n  }  \n</script>\n<style>\n  body a {\n      color: #003b72;\n  }  \n.brochureImage{\n  \tbackground-image: url(https://us-gbfms-files.s3.us-east-2.amazonaws.com/BARRAFIT_STUDIO_SALES_FLIPBOOK.png);\n  \theight: 520px;\n    max-width: 640px;\t\t\n    background-size: contain;\n    background-repeat: no-repeat;\n  }  \n  @media (min-width: 400px) {\n    .brochureImage{\n  \t\theight: 400px;\n    }\n  }\n  \n#equipe {\n    display: block;\n    background: url(https://us-gbfms-files.s3.us-east-2.amazonaws.com/BARRAFIT_STUDIO_SALES_FLIPBOOK.png) no-repeat;\n    background-size: contain;\n    height: 200px;\n  \tbackground-color: white;\n}  \n.emf-section-text {\n    font-family: Questrial;\n    color: rgb(96, 96, 96);\n    background-image: none;\n    font-size: 14px;\n}\n.emf-section-text {\n    clear: both;\n    font-size: 13px;\n    padding: 2px 0;\n}\n.programs {\n    font-family: \"Days One\";\n    font-size: 16px;\n    padding: 12px 0 0 250px;\n    display: block;\n}  \n#emf-li-16 .emf-field-grid, #emf-li-16 tr {\n    border: none;\n    border-top: 2px solid #000;\n}\n\n.emf-field-grid {\n    border-collapse: collapse;\n    margin: 0 0 .9em;\n    background: white;\n    width: 100%;\n    border: 1px solid #DEDEDE;\n    border-bottom: none;\n    clear: both;\n}\n#emf-li-16 .emf-field-grid, #emf-li-16 tr {\n    border: none;\n    border-top: 2px solid #000;\n}\n\n.emf-banding-head {\n    background-color: transparent;\n}\n.emf-banding-odd {\n    background-color: #fff;\n}\n.emf-field-grid th {\n    text-align: left;\n    font-weight: 700;\n}\n\n.emf-field-grid th, .emf-field-grid td {\n    border-bottom: 1px solid #DEDEDE;\n    padding: 8px;\n}\n#emf-container .emf-field-grid td {\n    border-left: 2px solid #000;\n    padding: 10px 0;\n    font-size: 18px;\n}\n\n#emf-container .emf-field-grid td {\n}\n#emf-form td {\n    padding: 2px;\n}\n.emf-field-grid td {\n    border-left: 1px solid #CCC;\n    text-align: center;\n    vertical-align: middle;\n}\n.emf-field-grid th, .emf-field-grid td {\n    border-bottom: 1px solid #DEDEDE;\n    padding: 8px;\n}\n#emf-li-16 input {\n    border: none;\n    padding: 0 5px;\n    height: 40px;\n    background-color: transparent;\n    outline: none;\n}\n#emf-form input, #emf-form select, #emf-form textarea {\n    max-width: 100%;\n}\n#curr {\n    display: block;\n    height: 250px;\n    background: url(https://s3-ap-southeast-2.amazonaws.com/gbfms-files/registration/ifabb.png) no-repeat left;\n    background-size: contain;\n}  \n#emf-li-37 {\n    background: url(https://s3-ap-southeast-2.amazonaws.com/gbfms-files/registration/Learn1.png) no-repeat;\n    background-size: contain;\n    height: 450px;\n}    \n#emf-li-36 {\n    background: url(https://s3-ap-southeast-2.amazonaws.com/gbfms-files/registration/fundamentals.png) no-repeat;\n    background-size: contain;\n    height: 80px;\n}  \n#emf-li-37 {\n    background: url(https://s3-ap-southeast-2.amazonaws.com/gbfms-files/registration/advanced.png) no-repeat;\n    background-size: contain;\n    height: 80px;\n}  \n#emf-li-38 {\n    background: url(https://s3-ap-southeast-2.amazonaws.com/gbfms-files/registration/black-belt.png) no-repeat;\n    background-size: contain;\n    height: 80px;\n}\n#emf-li-39 {\n    background: url(https://s3-ap-southeast-2.amazonaws.com/gbfms-files/registration/little-champs.png) no-repeat;\n    background-size: contain;\n    height: 80px;\n}\n#emf-li-40 {\n    background: url(https://s3-ap-southeast-2.amazonaws.com/gbfms-files/registration/womens-program.png) no-repeat;\n    background-size: contain;\n    height: 80px;\n}\n.emf-li-field .emf-div-field-section {\n    padding-left: 115px !important;\n}\nbutton.editButton {\n    border-radius: .25rem;\n    line-height: 1.0rem;\n    padding: .2rem 0.8rem;\n    margin-right: .5rem;\n    border: none;\n    color: #fff;\n    font-size: .75rem;\n    background-color: #0c384f;\n}\n</style>\n\n<script>\nfunction enabledAddressEdit(){\n  K('field[Address]').enable();\n  K('field[City]').enable();\n  K('field[State]').enable();\n  K('field[Postcode]').enable();\n}\nfunction geolocate() {\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function(position) {\n      var geolocation = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n      var circle = new google.maps.Circle(\n          {center: geolocation, radius: position.coords.accuracy});\n      autocomplete.setBounds(circle.getBounds());\n    });\n  }\n}\nfunction fillInAddress() {\n  K(\"field[Address]\").value(\"\");\n\n  // Get the place details from the autocomplete object.\n  var place = autocomplete.getPlace();\n\ndebugger;\n  // Get each component of the address from the place details,\n  // and then fill-in the corresponding field on the form.\n  for (var i = 0; i < place.address_components.length; i++) {\n    var addressType = place.address_components[i].types[0];\n\n    if (addressType===\"street_number\") {\n    \tK(\"field[Address]\").value(place.address_components[i][\"long_name\"]);\n    }\n    if (addressType===\"route\") {\n    \tK(\"field[Address]\").value(K(\"field[Address]\").value()+\" \"+place.address_components[i][\"long_name\"]);\n    }\n    if (addressType===\"locality\") {\n    \tK(\"field[City]\").value(place.address_components[i][\"long_name\"]);\n    }\n    if (addressType===\"administrative_area_level_1\") {\n    \tK(\"field[State]\").value(place.address_components[i][\"short_name\"]);\n    }\n    if (addressType===\"postal_code\") {\n    \tK(\"field[Postcode]\").value(place.address_components[i][\"short_name\"]);\n    }\n    if (addressType===\"country\") {\n    \tK(\"field[Country]\").value(place.address_components[i][\"long_name\"]);\n    }\n  }\n}  \nfunction initAutocomplete() {\n  debugger;\n  // Create the autocomplete object, restricting the search predictions to\n  // geographical location types.\n  autocomplete = new google.maps.places.Autocomplete(\n      document.getElementById('autocomplete'), {types: ['geocode']});\n\n  // Avoid paying for data that you don't need by restricting the set of\n  // place fields that are returned to just the address components.\n  autocomplete.setFields(['address_component']);\n\n  // When the user selects an address from the drop-down, populate the\n  // address fields in the form.\n  autocomplete.addListener('place_changed', fillInAddress);\n}  \n</script>\n\n<script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyANn8OeuTR-YH0f-l7S-Qk04cROra8iUfM&libraries=places&callback=initAutocomplete\"\n        async defer>\n</script>",
  "description": "BarraFIT Registration",
  "name": "BarraFIT Registration",
  "notes": null,
  "pages": [
    {
      "advanceCondition": null,
      "displayCondition": null,
      "displayPage": null,
      "elements": [
        {
          "type": "section",
          "renderType": null,
          "name": "Thank You",
          "title": null,
          "visible": "form('review')",
          "omitWhenHidden": true,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "content",
              "renderType": "html",
              "name": "Thanks Info",
              "text": "<h2>Thank you</h2>\n<h4>Your registration form has been accepted.</h4>\n<br>",
              "visible": "form('review')",
              "renderAttributes": {
              }
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Information",
          "title": null,
          "visible": true,
          "omitWhenHidden": null,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "content",
              "renderType": "html",
              "name": "Brochure Image",
              "text": "<div class=\"brochureImageDiv\"></div>",
              "visible": true,
              "renderAttributes": {
                "class": "brochureImage"
              }
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Select Lead",
          "title": "Select Lead",
          "visible": "!form('review')",
          "omitWhenHidden": false,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "content",
              "renderType": "html",
              "name": "Lead Select",
              "text": "<div id=\"selectLeadMenu\"></div>",
              "visible": true,
              "renderAttributes": {
              }
            },
            {
              "type": "field",
              "name": "Leads",
              "label": "",
              "key": "f47",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": false,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [
                {
                  "name": "Get Lead",
                  "type": "Change",
                  "action": "Custom",
                  "code": "loadingDetails=true;\nK('bridgedResource[Get Lead]').load({\n  attributes: ['First Name', 'Last Name','Address','City','State','Postcode','Phone Number','Gender'],\n  values: {},\n  success: function(bridgedData) {\n    K('field[First Name]').value(bridgedData['First Name']);\n    K('field[Last Name]').value(bridgedData['Last Name']);\n    K('field[Address]').value(bridgedData['Address']);\n    K('field[City]').value(bridgedData['Suburb']);\n    K('field[State]').value(bridgedData['State']);\n    K('field[Country]').value(\"\");\n    K('field[Postcode]').value(bridgedData['Postcode']);\n    K('field[Email]').value(bridgedData['Email']);\n    K('field[Phone]').value(bridgedData['Phone Number']);\n    K('field[Date of birth]').value(bridgedData['DOB']);\n    K('field[Email]').value(bridgedData['Email']);\n\n    $(\"#autocomplete\").val(\"\");\n    K('section[Menu Space]').hide();    \n    \n    loadingDetails=false;\n  }\n});",
                  "bridgedResourceName": null,
                  "runIf": "values('Leads')!==null && values('Leads')!==\"NEW_LEAD\""
                },
                {
                  "name": "Clear Member Details",
                  "type": "Change",
                  "action": "Custom",
                  "code": "K('field[First Name]').value(\"\");\nK('field[Last Name]').value(\"\");\nK('field[Address]').value(\"\");\nK('field[City]').value(\"\");\nK('field[State]').value(\"\");\nK('field[Postcode]').value(\"\");\nK('field[Country]').value(\"\");\nK('field[Email]').value(\"\");\nK('field[Phone]').value(\"\");\n\n$(\"#autocomplete\").val(\"\");\nK('section[Menu Space]').show();    \n",
                  "runIf": "values('Leads')===null"
                },
                {
                  "name": "Set New Lead",
                  "type": "Change",
                  "action": "Custom",
                  "code": "K('field[First Name]').value(\"\");\nK('field[Last Name]').value(\"\");\nK('field[Address]').value(\"\");\nK('field[City]').value(\"\");\nK('field[State]').value(\"\");\nK('field[Postcode]').value(\"\");\nK('field[Country]').value(\"\");\nK('field[Email]').value(\"\");\nK('field[Phone]').value(\"\");\nK('field[Date of birth]').value(\"\");\n\n$(\"#autocomplete\").val(\"\");\n\nK('section[Person Information]').show();\nK('section[Report Information]').show();    \nK('section[Goals]').show();        \nK('section[Signature]').show();        \n\nK('section[Menu Space]').hide();    \n",
                  "runIf": "values('Leads')===\"NEW_LEAD\""
                }
              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "dropdown",
              "choicesResourceName": null,
              "choicesRunIf": null,
              "choices": [

              ]
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Person Information",
          "title": "Person Information",
          "visible": "(values('Leads')!==null) && ((typeof(loadingDetails) !== \"undefined\" && !loadingDetails) || form('review')) ",
          "omitWhenHidden": true,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "field",
              "name": "First Name",
              "label": "First Name",
              "key": "f28",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Last Name",
              "label": "Last Name",
              "key": "f29",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "content",
              "renderType": "html",
              "name": "Autocomplete",
              "text": "<div id=\"locationField\">\n  <input id=\"autocomplete\"\n         class=\"form-control\"\n         placeholder=\"Enter your address\"\n         onFocus=\"geolocate()\"\n         type=\"text\"/>\n</div>",
              "visible": "!form('review')",
              "renderAttributes": {
              }
            },
            {
              "type": "field",
              "name": "Address",
              "label": "Address<button class=\"editButton\"  onclick=\"enabledAddressEdit()\">Manually Enter</button>",
              "key": "f30",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": "!form('review')",
              "enabled": false,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": false,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "City",
              "label": "City",
              "key": "f49",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": false,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "State",
              "label": "State",
              "key": "f50",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": false,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Postcode",
              "label": "Postcode",
              "key": "f51",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": false,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Country",
              "label": "Country",
              "key": "f89",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": false,
              "enabled": false,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": false,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Phone",
              "label": "Phone",
              "key": "f52",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Email",
              "label": "Email",
              "key": "f88",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Date of birth",
              "label": "Date of birth",
              "key": "f53",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [
                {
                  "name": "Invalid date",
                  "type": "Change",
                  "action": "Custom",
                  "code": "K('field[Date of birth]').value(\"\")",
                  "runIf": "K('field[Date of birth]').value()===\"Invalid date\""
                }
              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "date"
            },
            {
              "type": "field",
              "name": "Parent or Guardian",
              "label": "Parent or Guardian",
              "key": "f55",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": false,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": true,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "section",
              "renderType": null,
              "name": "Emergency Contact Information",
              "title": "Emergency Contact Information",
              "visible": true,
              "omitWhenHidden": null,
              "renderAttributes": {
              },
              "elements": [
                {
                  "type": "field",
                  "name": "Emergency Contact Name",
                  "label": "Name",
                  "key": "f93",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "omitWhenHidden": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                  },
                  "dataType": "string",
                  "renderType": "text",
                  "rows": 1
                },
                {
                  "type": "field",
                  "name": "Emergency Contact Relationship",
                  "label": "Relationship",
                  "key": "f94",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "omitWhenHidden": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                  },
                  "dataType": "string",
                  "renderType": "text",
                  "rows": 1
                },
                {
                  "type": "field",
                  "name": "Emergency Contact Phone",
                  "label": "Phone",
                  "key": "f95",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "omitWhenHidden": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                  },
                  "dataType": "string",
                  "renderType": "text",
                  "rows": 1
                }
              ]
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Report Information",
          "title": "Report Information",
          "visible": "(values('Leads')!==null) && ((typeof(loadingDetails) !== \"undefined\" && !loadingDetails) || form('review')) ",
          "omitWhenHidden": true,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "field",
              "name": "How did you hear about us",
              "label": "How did you hear about us?",
              "key": "f92",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "dropdown",
              "choicesResourceName": null,
              "choicesRunIf": null,
              "choices": [
                {
                  "label": "Word of Mouth",
                  "value": "Word of Mouth"
                },
                {
                  "label": "Social Media",
                  "value": "Social Media"
                },
                {
                  "label": "Member Referral",
                  "value": "Member Referral"
                }
              ]
            },
            {
              "type": "field",
              "name": "Referred By Member",
              "label": "Referred By Member",
              "key": "f96",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": "values('How did you hear about us')===\"Member Referral\"",
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": true,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "How many days a week would you like to train",
              "label": "What days and times do you prefer to workout?",
              "key": "f72",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "content",
              "renderType": "html",
              "name": "Time During Week",
              "text": "<h3 id=\"element_24\" name=\"element_24\">Open 7 Days a Week*</h3>\n<div class=\"emf-section-text\">* What days are you free to train with us?</div>\n<table class=\"emf-field-grid\" my_statement_order_type=\"\" my_choice_order_type=\"\">\n\t<thead>\n\t\t<tr class=\"emf-banding-head\"><th my_order_property=\"first\"></th>\n      <td width=\"11%\">M</td>\n      <td width=\"11%\">T</td>\n      <td width=\"11%\">W</td>\n      <td width=\"11%\">Th</td>\n      <td width=\"11%\">F</td>\n      <td width=\"11%\">S</td>\n      <td width=\"11%\">S</td>\n\t  </tr>\n  </thead>\n<tbody>\n<tr class=\"emf-banding-odd\">\n<th>Time</th><td>\n<input id=\"wdMon\" name=\"wdMon\" onChange=\"K('field[MondayTime]').value(this.value)\" style=\"width:100%\" type=\"text\"></td>\n<td>\n<input id=\"wdTue\" name=\"wdTue\" onChange=\"K('field[TuesdayTime]').value(this.value)\" style=\"width:100%\" type=\"text\"></td>\n<td>\n<input id=\"wdWed\" name=\"wdWed\" onChange=\"K('field[WednesdayTime]').value(this.value)\" style=\"width:100%\" type=\"text\"></td>\n<td>\n<input id=\"wdThur\" name=\"wdThur\" onChange=\"K('field[ThursdayTime]').value(this.value)\" style=\"width:100%\" type=\"text\"></td>\n<td>\n<input id=\"wdFrid\" name=\"wdFrid\" onChange=\"K('field[FridayTime]').value(this.value)\" style=\"width:100%\" type=\"text\"></td>\n<td>\n<input id=\"wdSat\" name=\"wdSat\" onChange=\"K('field[SaturdayTime]').value(this.value)\" style=\"width:100%\" type=\"text\"></td>\n<td>\n<input id=\"wdSun\" name=\"wdSun\" onChange=\"K('field[SundayTime]').value(this.value)\" style=\"width:100%\" type=\"text\"></td>\n</tr>\n</tbody>\n</table>",
              "visible": true,
              "renderAttributes": {
              }
            },
            {
              "type": "field",
              "name": "MondayTime",
              "label": "MondayTime",
              "key": "f81",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": false,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": false,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "TuesdayTime",
              "label": "TuesdayTime",
              "key": "f82",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": false,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": false,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "WednesdayTime",
              "label": "WednesdayTime",
              "key": "f83",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": false,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": false,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "ThursdayTime",
              "label": "ThursdayTime",
              "key": "f84",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": false,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": false,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "FridayTime",
              "label": "FridayTime",
              "key": "f85",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": false,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": false,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "SaturdayTime",
              "label": "SaturdayTime",
              "key": "f86",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": false,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": false,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "SundayTime",
              "label": "SundayTime",
              "key": "f87",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": false,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": false,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Goals",
          "title": null,
          "visible": "(values('Leads')!==null) && ((typeof(loadingDetails) !== \"undefined\" && !loadingDetails) || form('review')) ",
          "omitWhenHidden": false,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "field",
              "name": "How often do you currently workout",
              "label": "How often do you currently workout?",
              "key": "f97",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "json",
              "renderType": "checkbox",
              "choicesResourceName": null,
              "choicesRunIf": null,
              "choices": [
                {
                  "label": "N/A",
                  "value": "N/A"
                },
                {
                  "label": "Once/week",
                  "value": "Once/week"
                },
                {
                  "label": "2-3 times/week",
                  "value": "2-3 times/week"
                },
                {
                  "label": "4+ / week",
                  "value": "4+ / week"
                }
              ]
            },
            {
              "type": "field",
              "name": "What does your current exercise program consist of",
              "label": "What does your current exercise program consist of?",
              "key": "f98",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "json",
              "renderType": "checkbox",
              "choicesResourceName": null,
              "choicesRunIf": null,
              "choices": [
                {
                  "label": "Weight/Fat Loss",
                  "value": "Weight/Fat Loss"
                },
                {
                  "label": "Improve Overall Health",
                  "value": "Improve Overall Health"
                },
                {
                  "label": "Variety",
                  "value": "Variety"
                },
                {
                  "label": "Athletic Performance",
                  "value": "Athletic Performance"
                }
              ]
            },
            {
              "type": "field",
              "name": "Other Fitness Goals",
              "label": "Other Fitness Goals:",
              "key": "f99",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 2
            },
            {
              "type": "field",
              "name": "What were you doing when you were your most physically active",
              "label": "What were you doing when you were your most physically active?",
              "key": "f100",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "How passionate are you about achieving your fitness goals",
              "label": "On a scale of 1 to 10, how passionate are you about achieving your fitness goals?",
              "key": "f101",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "What obstacles have you faced in achieving your fitness goals in the past",
              "label": "What obstacles have you faced in achieving your fitness goals in the past?",
              "key": "f102",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Do you have the support of the people close to you",
              "label": "Do you have the support of the people close to you?",
              "key": "f103",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Do you have any exercise restrictionsinjuries our instructors should know about",
              "label": "Do you have any exercise restrictions/injuries our instructors should know about?",
              "key": "f104",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Do you have any questions for us",
              "label": "Do you have any questions for us?",
              "key": "f105",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 2
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Waiver Section",
          "title": null,
          "visible": false,
          "omitWhenHidden": false,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "field",
              "name": "Accept Gracie Barra Waiver",
              "label": "Gracie Barra <a href=\"javascript:$(K('section[Waiver]').element()).toggle('slow')\">Waiver</a>",
              "key": "f90",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "json",
              "renderType": "checkbox",
              "choicesResourceName": null,
              "choicesRunIf": null,
              "choices": [
                {
                  "label": "Accept Gracie Barra Waiver",
                  "value": "Accept Gracie Barra Waiver"
                }
              ]
            },
            {
              "type": "section",
              "renderType": null,
              "name": "Waiver",
              "title": null,
              "visible": false,
              "omitWhenHidden": false,
              "renderAttributes": {
              },
              "elements": [
                {
                  "type": "field",
                  "name": "Waiver Information Text",
                  "label": "Waiver Information Text",
                  "key": "f91",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": false,
                  "enabled": true,
                  "required": false,
                  "requiredMessage": null,
                  "omitWhenHidden": false,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                  },
                  "dataType": "string",
                  "renderType": "text",
                  "rows": 1
                },
                {
                  "type": "content",
                  "renderType": "html",
                  "name": "Waiver Information",
                  "text": "<p><i>\nI recognize that the program may involve strenuous physical activity including, but not limited to, muscle strength and endurance training, cardiovascular conditioning and training, and other various fitness activities. I hereby affirm that I am in good physical condition and do not suffer from any known disability or condition which would prevent or otherwise limit my full participation in this physical program.\n </i></p>",
                  "visible": true,
                  "renderAttributes": {
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Signature",
          "title": null,
          "visible": "(values('Leads')!==null) && ((typeof(loadingDetails) !== \"undefined\" && !loadingDetails) || form('review')) ",
          "omitWhenHidden": true,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "field",
              "name": "Encoded Person Signature",
              "label": "Encoded Person Signature",
              "key": "f74",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": false,
              "enabled": true,
              "required": true,
              "requiredMessage": "Signature required",
              "omitWhenHidden": false,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "content",
              "renderType": "html",
              "name": "Person Signature",
              "text": "<span>\n<p>  \n<i>I hereby acknowledge and understand that Brazilian Jiu Jitsu is a physical activity and learning self-defense skills involves some physical contact. GB Oceania Association Pty Ltd, <span id=\"legalName\"></span> and or its staff and student are not to be hold liable or responsible for any risks and/or injuries as a result of training Brazilian Jiu-Jitsu. \n  </i></p>\n</span>\n<label class=\"field-label required\">Person Signature</label><div id=\"person-signature-canvas\"/>",
              "visible": true,
              "renderAttributes": {
              }
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Menu Space",
          "title": null,
          "visible": true,
          "omitWhenHidden": null,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "content",
              "renderType": "html",
              "name": "Menu Space",
              "text": "<div style=\"height:300px\"></div>",
              "visible": true,
              "renderAttributes": {
              }
            }
          ]
        },
        {
          "type": "button",
          "label": "Submit",
          "name": "Submit Button",
          "visible": true,
          "enabled": true,
          "renderType": "submit-page",
          "renderAttributes": {
          }
        }
      ],
      "events": [
        {
          "name": "Load Signatures",
          "type": "Load",
          "action": "Custom",
          "code": "bundle.config.widgets.signatureCanvas({\n  element: K(\"form\").find(\"#person-signature-canvas\")[0],\n  initialValue: K(\"field[Encoded Person Signature]\").value(),\n  onChange: function(value) {\n\t  K(\"field[Encoded Person Signature]\").value(value);\n\t},\n  height: 250,\n  width: 500,\n  disable: form('review'),\n  ref: function(el) {\n    window.personSignaturePad = el;\n  },\n});\n",
          "runIf": ""
        },
        {
          "name": "Load Selections",
          "type": "Load",
          "action": "Custom",
          "code": "K('bridgedResource[Leads]').load({\n  attributes: ['First Name', 'Last Name','id'],\n  values: {},\n  success: function(bridgedData) {\n    var options=[{'value':'NEW_LEAD','label':'NEW LEAD'}];\n    $.each( bridgedData, function( key, value ) {\n\t    console.log(value['id']+\"-\"+value['First Name']+\" \"+value['Last Name']);\n\t\t\toptions[options.length]={'label':value['First Name']+\" \"+value['Last Name'], 'value':value['id']};\n\t\t});\n    var label=null;\n\t\tK('field[Leads]').options(options);\n    if (GetURLParameter(\"id\")!==null) {\n    \tK('field[Leads]').value(GetURLParameter(\"id\"));\n      $(K('field[Leads]').options()).each(function(index) {\n       if (K('field[Leads]').options()[index].value===GetURLParameter(\"id\")) label=K('field[Leads]').options()[index].label;\n      });      \n    }\n    bundle.config.widgets.selectMenu({\n      element: K(\"form\").find(\"#selectLeadMenu\")[0],\n      options: K('field[Leads]').options(),\n      onChange: function(option) {\n        K('field[Leads]').value(option.value);\n        setTimeout(function(){\n          $(K(\"form\").find(\"#selectLeadMenu .css-1492t68\")).html(option.label);\n        },100);\n      },\n      value: K('field[Leads]').value(),\n    });\n    if (label!==null){\n    \t$(K(\"form\").find(\"#selectLeadMenu div\")[3]).html(label);\n    }\n  }\n});\n",
          "runIf": "!form('review')"
        },
        {
          "name": "Handle Errors",
          "type": "Submit",
          "action": "Custom",
          "code": "K('button[Submit Button]').disable();\nif (!jQuery.isEmptyObject(K('form').validate())){\n  K('button[Submit Button]').enable();\n  setTimeout(function(){\n  if ($(\".has-error\").length>0){\n    $(\".has-error\").each(function(i,l) { \n      if ($(l).attr(\"data-element-name\").indexOf(\"Signature\")!==-1) {\n        sigCanElName=$(l).attr(\"data-element-name\").replace(\"Encoded \",\"\");\n        $(K('content['+sigCanElName+']').element()).addClass(\"has-error\");\n      }\n    })  \n    $('.main-container').animate({\n      scrollTop: 0\n    },500);\n  }\n  },100);\n}"
        },
        {
          "name": "Load Review",
          "type": "Load",
          "action": "Custom",
          "code": "K('section[Person Information]').show();\nK('section[Report Information]').show();    \nK('section[Health Information]').show();        \nK('section[Personal Jiu Jitsu Objectives]').show();        \nK('section[Waiver Section]').show();        \nK('section[Signature]').show();        \nK('section[Path to Excellence]').show();     \n\nK('section[Menu Space]').hide();    \n$(\"#wdMon\").val(K('field[MondayTime]').value());\n$(\"#wdMon\").attr('readonly', true);\n$(\"#wdTue\").val(K('field[TuesdayTime]').value());\n$(\"#wdTue\").attr('readonly', true);\n$(\"#wdWed\").val(K('field[WednesdayTime]').value());\n$(\"#wdWed\").attr('readonly', true);\n$(\"#wdThur\").val(K('field[ThursdayTime]').value());\n$(\"#wdThur\").attr('readonly', true);\n$(\"#wdFrid\").val(K('field[FridayTime]').value());\n$(\"#wdFrid\").attr('readonly', true);\n$(\"#wdSat\").val(K('field[SaturdayTime]').value());\n$(\"#wdSat\").attr('readonly', true);\n$(\"#wdSun\").val(K('field[SundayTime]').value());\n$(\"#wdSun\").attr('readonly', true);\n",
          "runIf": "form('review')"
        },
        {
          "name": "Set Defaults",
          "type": "Load",
          "action": "Custom",
          "code": "if ($(\".package-layout--services\").length===0) {\n\t$(\"body\").css(\"height\",\"auto\");\n}\nif (K('field[Leads]').value()===null) {\n\tloadingDetails=true;\n  K('section[Menu Space]').show();   \n}else {\n\tloadingDetails=false;\n  K('section[Menu Space]').hide();   \n}\n\n// Set DOB dates to be past date only\nvar dateFieldElement = K('field[Date of birth]').element();\nvar dateFieldCalendarInput = KD.noConflict.$(dateFieldElement).next(\"input\");\ndateFieldCalendarInput.data(\"xdsoft_datetimepicker\").setOptions({maxDate:0});\n\n$(\"#legalName\").text(K('space').attributes('School Legal Name'));\n\nif (!K(\"identity\").teams.includes(\"Role::Program Managers\")) {\n\tK('section[Select Lead]').hide();\n}",
          "runIf": "!form('review')"
        },
        {
          "name": "Load Waiver",
          "type": "Load",
          "action": "Custom",
          "code": "K('bridgedResource[Get Waiver]').load({\n  success: function(bridgedData) {\n    debugger;\n    $(\"#waiverInformation\").html(bridgedData[0][\"Terms Information\"]);\n    $(\"#legalName\").text(K('space').attributes('School Legal Name'));\n    K('field[Waiver Information Text]').value($(\"#waiverInformation\").html());\n  }\n});",
          "runIf": "K('field[Waiver Information Text]').value()===null"
        },
        {
          "name": "Display Waiver",
          "type": "Load",
          "action": "Custom",
          "code": "$(\"#waiverInformation\").html(K('field[Waiver Information Text]').value());",
          "runIf": "K('field[Waiver Information Text]').value()!==null"
        }
      ],
      "name": "Registration Information",
      "renderType": "submittable",
      "type": "page"
    }
  ],
  "securityPolicies": [
    {
      "endpoint": "Display",
      "name": "Everyone"
    },
    {
      "endpoint": "Submission Access",
      "name": "Everyone"
    },
    {
      "endpoint": "Submission Modification",
      "name": "Authenticated Users"
    }
  ],
  "slug": "barrafit-registration",
  "status": "Active",
  "submissionLabelExpression": "${values('First Name')} ${values('Last Name')}",
  "type": "Service"
}